.libPaths("H:/myCitrixFiles/Documents/R/win-library/3.2")
library(dplyr)
library(ggplot2)
matches <- readRDS('matchdata/matches_json.rda')
matches[1]
matches[2]
length(matches)
match <- as.data.frame(matches[1])
match <- fromJSON(matches[1])
library(jsonlite)
match <- fromJSON(matches[1])
class(matches[1])
match <- matches[1]
View(match)
df_match <- as.data.frame(match)
match$data$radiant$player_performances
df_pperf <- match$data$radiant$player_performances
View(df_pperf)
df_pperf$performance$items
df_pperf$performance$abilities
df <- data.frame()
df <- rbind(df, data.frame(a=c(1,2,3)))
rm(df)
match$data$radiant$player_performances$items[1]
match$data$radiant$player_performances$itemS
match$data$radiant$player_performances
match$data$radiant$player_performances.items
match$data$radiant$player_performances.gold_spent
match$data$radiant$player_performances$gold_spent
match$data$radiant$player_performances$player$nickname
match$data$radiant$player_performances$performance$items
match$data$radiant$player_performances$performance$items[1]
match$data$radiant_victory
premium <- read.csv('datdota/matches_p1.csv', header=T) %>%
rename(MatchId = Ã¯..Match.ID)
View(premium)
class(premium$Start.Date.Time)
bool <- TRUE
!bool
match$data$radiant$player_performances$performance$hero_healing
clean_match <- match %>% select(-performance.hero_healing)
match_clean <- select(match, -player.nickname)
library(dplyr)
library(ggplot2)
match_clean <- select(match, -player.nickname)
class(match)
match_clean <- match[c(-16,-17)]
View(match_clean)
match_clean
df_clean <- df_match[c(-16,-17)]
df_clean <- df_pperf[c(-16,-17)]
View(df_clean)
df_pperf <- as.data.frame(df_pperf)
class(df_pperf)
View(df_pperf)
df_clean <- df_pperf %>%
select(-performance$items)
df_clean <- df_pperf %>%
select(-performance.items)
df_pperf$performance$items
select(df_pperf, -player.nickname)
select(df_pperf, -player$nickname)
colnames(df_pperf)
colnames(df_pperf$player)
colnames(df_pperf$performance)
df_clean <- cbind(df_pperf$player, df_pperf$performance)
View(df_clean)
df_clean <- cbind(df_pperf$player, df_pperf$performance) %>%
select(-items, -abilities)
df_pperf <- match$data$radiant$player_performances
df_clean <- cbind(df_pperf$player, df_pperf$performance) %>%
select(-items, -abilities)
class(df_clean)
class(df_pperf)
match$data$radiant$team$name
class(match$data$radiant$team$name)
a <- data.frame(a=c(1))
b <- rbind(a,a) %>% rbind(a)
library(dplyr)
library(ggplot2)
library(jsonlite)
matches <- readRDS('matchdata/matches_json.rda')
player_perf <- data.frame()
match_data <- data.frame()
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]data$radiant$player_performances$player, matches[i]data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]data$dire$player_performances$player, matches[i]data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- as.data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player, matches[i]data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player, matches[i]data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- as.data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player, matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player, matches[i]$data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- as.data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
as.data.frame(a=1, b=2, c=3)
as.data.frame(a=c(1), b=c(2), c=c(3))
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player, matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player, matches[i]$data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
player_perf <- data.frame()
match_data <- data.frame()
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player, matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player, matches[i]$data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
#  match <- data.frame(MatchId = match_id,
#                         duration = matches[i]$data$duration,
#                         radiant_victory = radiant_win,
#                         league_id = matches[i]$data$league$league_id,
#                         league_name = matches[i]$data$league$name,
#                         patch = matches[i]$data$patch)
#
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
#  match_data <- rbind(match_data, match)
}
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
player_perf <- rbind(player_perf, radiant_pp)
player_perf <- rbind(player_perf, dire_pp)
View(player_perf)
View(radiant_pp)
View(dire_pp)
row.names(radiant_pp)
class(radiant_pp$hero$short_name)
class(radiant_pp$hero)
select(radiant_pp, -hero)
radiant_pp[-c(3,4)]
radiant_pp$hero
class(radiant_pp$hero)
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player[-c(3,4)],
matches[i]$data$radiant$player_performances$player$performance$hero,
matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player[-c(3,4)],
matches[i]$data$dire$player_performances$player$performance$hero,
matches[i]$data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
rm(player_perf)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
player_perf <- data.frame()
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
View(dire_pp)
i <- 1
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player[-c(3,4)],
matches[i]$data$radiant$player_performances$player$performance$hero,
matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
matches[i]$data$radiant$player_performances$player[-c(3,4)]
matches[i]$data$radiant$player_performances$player$performance$hero
matches <- readRDS('matchdata/matches_json.rda')
#Generate empty dataframes
player_perf <- data.frame()
match_data <- data.frame()
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player[-c(3,4)],
matches[i]$data$radiant$player_performances$performance$hero,
matches[i]$data$radiant$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player[-c(3,4)],
matches[i]$data$dire$player_performances$performance$hero,
matches[i]$data$dire$player_performances$performance) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
matches[i]$data$radiant$player_performances$player[-c(3,4)]
matches[i]$data$radiant$player_performances$performance$hero
matches[i]$data$radiant$player_performances$performance
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player,
matches[i]$data$radiant$player_performances$performance$hero,
matches[i]$data$radiant$player_performances$performance[-c(3,4)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player,
matches[i]$data$dire$player_performances$performance$hero,
matches[i]$data$dire$player_performances$performance[-c(3,4)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
matches[i]$data$radiant$player_performances$performance[-c(3,4)]
matches[i]$data$radiant$player_performances$performance[-c(1,2)]
for(i in 1:5)
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player,
matches[i]$data$radiant$player_performances$performance$hero,
matches[i]$data$radiant$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player,
matches[i]$data$dire$player_performances$performance$hero,
matches[i]$data$dire$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
View(match_data)
View(player_perf)
player_perf <- data.frame()
match_data <- data.frame()
for(i in 1:length(matches))
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player,
matches[i]$data$radiant$player_performances$performance$hero,
matches[i]$data$radiant$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player,
matches[i]$data$dire$player_performances$performance$hero,
matches[i]$data$dire$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
library(dplyr)
library(ggplot2)
library(jsonlite)
matches <- readRDS('matchdata/matches_json.rda')
#Generate empty dataframes
player_perf <- data.frame()
match_data <- data.frame()
#Parse json match data
for(i in 1:length(matches))
{
match_id <- matches[i]$data$match_id
radiant_win <- matches[i]$data$radiant_victory
radiant_team <- matches[i]$data$radiant$team$name
dire_team <- matches[i]$data$dire$team$name
radiant_pp <- cbind(matches[i]$data$radiant$player_performances$player,
matches[i]$data$radiant$player_performances$performance$hero,
matches[i]$data$radiant$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = radiant_team,
Win = radiant_win)
dire_pp <- cbind(matches[i]$data$dire$player_performances$player,
matches[i]$data$dire$player_performances$performance$hero,
matches[i]$data$dire$player_performances$performance[-c(1)]) %>%
select(-items, -abilities) %>%
mutate(MatchId = match_id,
Team = dire_team,
Win = !radiant_win)
match <- data.frame(MatchId = match_id,
duration = matches[i]$data$duration,
radiant_victory = radiant_win,
league_id = matches[i]$data$league$league_id,
league_name = matches[i]$data$league$name,
patch = matches[i]$data$patch)
player_perf <- rbind(player_perf, radiant_pp) %>%
rbind(dire_pp)
match_data <- rbind(match_data, match)
}
View(player_perf)
#Exploratory
heal <- player_perf %>%
group_by(MatchId, Win) %>%
summarise(Team_Heal = sum(hero_healing),
Team_Damage = sum(hero_damage))
View(heal)
ggplot(heal, aes(x=Team_Heal, y=Team_Damage)) +
geom_point(aes(colour=Win))
#Exploratory
heal <- player_perf %>%
group_by(MatchId, Win, patch) %>%
summarise(Team_Heal = sum(hero_healing),
Team_Damage = sum(hero_damage))
View(match_data)
